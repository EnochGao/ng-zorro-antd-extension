import{La as r,Lc as x,Na as f,Ra as p,X as a,ba as m,ca as l,f as c,g as n,gc as u,ma as h,na as d}from"./chunk-OGFJLPPA.js";var o=(()=>{class i{constructor(){this.permissionsSource=new n([]),this.permissions$=this.permissionsSource.asObservable()}loadPermissions(e){this.permissionsSource.next([...this.permissionsSource.value,...e])}hasPermission(e){return this.permissionsSource.value.includes(e)}addPermission(e){if(this.hasPermission(e))return;let t=[...this.permissionsSource.value,e];this.permissionsSource.next(t)}removePermission(e){let t=this.permissionsSource.value.filter(s=>s!==e);this.permissionsSource.next(t)}refreshPermission(){setTimeout(()=>{this.permissionsSource.next(this.permissionsSource.value)},0)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=m({token:i,factory:i.\u0275fac})}}return i})();var y=(()=>{class i{constructor(e,t,s,A){this.templateRef=e,this.viewContainerRef=t,this.nzxAclService=s,this.cd=A,this.codes="",this.dataAcl=!0,this.destroy$=new c}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.viewContainerRef.clear(),this.nzxAclService.permissions$.pipe(a(this.destroy$)).subscribe(e=>{this.viewContainerRef.clear(),this.judge(e)})}judge(e){Array.isArray(this.codes)&&(e.some(s=>this.codes.includes(s)===!0)?this.createView(e):this.nzxAclElse&&this.viewContainerRef.createEmbeddedView(this.nzxAclElse)),typeof this.codes=="string"&&(e.includes(this.codes)?this.createView(e):this.nzxAclElse&&this.viewContainerRef.createEmbeddedView(this.nzxAclElse))}createView(e){this.dataAcl&&(this.viewContainerRef.createEmbeddedView(this.templateRef,{$implicit:e,currentAcl:this.codes}),this.cd.markForCheck())}static{this.\u0275fac=function(t){return new(t||i)(r(f),r(p),r(o),r(u))}}static{this.\u0275dir=d({type:i,selectors:[["","nzxAcl",""]],inputs:{codes:[0,"nzxAcl","codes"],nzxAclElse:"nzxAclElse",dataAcl:[0,"nzxAclDataAcl","dataAcl"]},exportAs:["NzxAcl"]})}}return i})();var E=(()=>{class i{static forRoot(){return{ngModule:i,providers:[o]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=h({type:i})}static{this.\u0275inj=l({imports:[x]})}}return i})();export{o as a,y as b,E as c};
