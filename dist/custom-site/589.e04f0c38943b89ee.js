"use strict";(self.webpackChunkcustom_site=self.webpackChunkcustom_site||[]).push([[589],{9589:(R,z,u)=>{u.r(z),u.d(z,{EXAMPLES_MODULE:()=>H,EXAMPLE_COMPONENTS:()=>G});var l=u(4006),e=u(4650),d=u(9258);class c{constructor(o){this.templateRef=o}}c.\u0275fac=function(o){return new(o||c)(e.Y36(e.Rgc))},c.\u0275dir=e.lG2({type:c,selectors:[["","nzxControl",""]],inputs:{nzxControl:"nzxControl"}});var N=u(7579),q=u(2722),i=u(6895),h=u(5635),g=u(3679),m=u(6704),b=u(6616),Q=u(7044),A=u(1811),y=u(8231),C=u(5259),x=u(1945);function P(t,o){if(1&t&&(e.TgZ(0,"nz-form-label",18),e._uU(1),e.qZA()),2&t){const n=e.oxw(2).$implicit;e.Q6J("nzSpan",n.nzxLSpan||6),e.xp6(1),e.hij(" ",n.label," ")}}function v(t,o){if(1&t&&e._UZ(0,"input",19),2&t){const n=e.oxw(2).$implicit;e.Q6J("placeholder",n.placeholder)("formControlName",n.controlName)}}function Z(t,o){if(1&t&&e._UZ(0,"nz-option",22),2&t){const n=o.$implicit;e.Q6J("nzValue",n.value)("nzLabel",n.label)}}function F(t,o){if(1&t&&(e.TgZ(0,"nz-select",20),e.YNc(1,Z,1,2,"nz-option",21),e.qZA()),2&t){const n=e.oxw(2).$implicit;e.Q6J("formControlName",n.controlName)("nzShowSearch",!0)("nzAllowClear",n.nzxAllowClear)("nzPlaceHolder",n.placeholder),e.xp6(1),e.Q6J("ngForOf",n.menuList)}}const T=function(){return{width:"100%"}};function J(t,o){if(1&t&&e._UZ(0,"nz-date-picker",23),2&t){const n=e.oxw(2).$implicit;e.Q6J("ngStyle",e.DdM(3,T))("formControlName",n.controlName)("nzPlaceHolder",n.placeholder)}}function S(t,o){if(1&t&&e._UZ(0,"nz-range-picker",24),2&t){const n=e.oxw(2).$implicit;e.Q6J("ngStyle",e.DdM(2,T))("formControlName",n.controlName)}}function B(t,o){1&t&&e.GkF(0)}const E=function(t){return{$implicit:t}};function U(t,o){if(1&t&&(e.ynx(0),e.YNc(1,B,1,0,"ng-container",25),e.BQk()),2&t){const n=e.oxw(2).$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",e.VKq(2,E,r.queryForm.get(n.controlName)))}}function I(t,o){if(1&t&&(e.TgZ(0,"div",10)(1,"nz-form-item"),e.YNc(2,P,2,2,"nz-form-label",11),e.TgZ(3,"nz-form-control",12),e.YNc(4,v,1,2,"input",13),e.YNc(5,F,2,5,"nz-select",14),e.YNc(6,J,1,4,"nz-date-picker",15),e.YNc(7,S,1,3,"nz-range-picker",16),e.YNc(8,U,2,4,"ng-container",17),e.qZA()()()),2&t){const n=e.oxw().$implicit,r=e.oxw();e.Q6J("nzSpan",n.nzxSpan||24/r.lineNumber)("hidden",r.nzxCollapse&&n.collapse),e.xp6(2),e.Q6J("ngIf",n.label),e.xp6(1),e.Q6J("nzSpan",n.nzxRSpan||18)("nzErrorTip",n.errorTip),e.xp6(1),e.Q6J("ngIf","input"===n.controlType),e.xp6(1),e.Q6J("ngIf","select"===n.controlType),e.xp6(1),e.Q6J("ngIf","datePicker"===n.controlType),e.xp6(1),e.Q6J("ngIf","rangePicker"===n.controlType),e.xp6(1),e.Q6J("ngIf","Template"===n.controlType)}}function L(t,o){if(1&t&&(e.ynx(0),e.YNc(1,I,9,10,"div",9),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("ngIf",!n.hidden)}}function D(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.toggleCollapse())}),e._uU(1),e._UZ(2,"i",27),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.isCollapse?"\u5c55\u5f00":"\u6536\u8d77"," "),e.xp6(1),e.Q6J("nzType",n.isCollapse?"down":"up")}}class f{constructor(o,n){this.fb=o,this.cd=n,this.controls=[],this.nzxJustify="start",this.nzxGutter=8,this.lineNumber=3,this.nzxBtnSpan=null,this.nzxCollapse=!0,this.initQuery=!1,this.queryParamsChange=new e.vpe,this.queryParams={},this.isCollapse=!0,this.defaultValue={},this.params={},this.destroy$=new N.x,this._nzxBtnSpan=null,this.queryForm=this.fb.group({})}ngOnInit(){this.queryForm.valueChanges.pipe((0,q.R)(this.destroy$)).subscribe(o=>{this.queryParams=o}),this._nzxBtnSpan=this.nzxBtnSpan}ngAfterContentInit(){for(const o of this.controls){if("Template"===o.controlType){const n=this.controlTemplateList.find(r=>r.nzxControl===o.controlName);n&&(o.templateRef=n.templateRef)}this.queryForm.addControl(o.controlName,o.controlInstance??this.fb.control(o.default??null))}this.queryParams=this.queryForm.value,this.defaultValue=Object.assign({},this.queryParams),this.params&&this.queryForm.patchValue(this.params),this.initQuery&&this.search()}setQueryParams(o){this.params=o}setControl(o,n){let r=this.getControl(o);r&&Object.keys(n).forEach(a=>{r[a]=n[a]})}getControl(o){const n=this.controls.findIndex(r=>r.controlName===o);if(n>-1)return this.controls[n]}search(){this.queryForm.invalid?Object.values(this.queryForm.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))}):this.queryParamsChange.emit(this.queryParams)}reset(){this.queryForm.reset(this.defaultValue),this.search()}toggleCollapse(){this.controls.forEach(o=>{this.isCollapse&&!0===o.collapse&&(o.collapse=!1,this.nzxBtnSpan=24),!this.isCollapse&&!1===o.collapse&&(o.collapse=!0,this.nzxBtnSpan=this._nzxBtnSpan)}),this.isCollapse=!this.isCollapse}ngOnDestroy(){this.destroy$.complete(),this.destroy$.unsubscribe()}}f.\u0275fac=function(o){return new(o||f)(e.Y36(l.qu),e.Y36(e.sBO))},f.\u0275cmp=e.Xpm({type:f,selectors:[["nzx-configurable-query"]],contentQueries:function(o,n,r){if(1&o&&e.Suo(r,c,4),2&o){let a;e.iGM(a=e.CRH())&&(n.controlTemplateList=a)}},inputs:{controls:"controls",nzxJustify:"nzxJustify",nzxGutter:"nzxGutter",lineNumber:"lineNumber",nzxBtnSpan:"nzxBtnSpan",nzxCollapse:"nzxCollapse",initQuery:"initQuery"},outputs:{queryParamsChange:"queryParamsChange"},exportAs:["NzxConfigurableQuery"],ngContentSelectors:["*"],decls:12,vars:6,consts:[[1,"container"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter","nzJustify"],[4,"ngFor","ngForOf"],["nz-col","",1,"btn-container",3,"nzSpan"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary","type","button",3,"click"],["nz-button","","type","button",3,"click"],[3,"click",4,"ngIf"],["nz-col","",3,"nzSpan","hidden",4,"ngIf"],["nz-col","",3,"nzSpan","hidden"],[3,"nzSpan",4,"ngIf"],[3,"nzSpan","nzErrorTip"],["nz-input","",3,"placeholder","formControlName",4,"ngIf"],[3,"formControlName","nzShowSearch","nzAllowClear","nzPlaceHolder",4,"ngIf"],[3,"ngStyle","formControlName","nzPlaceHolder",4,"ngIf"],[3,"ngStyle","formControlName",4,"ngIf"],[4,"ngIf"],[3,"nzSpan"],["nz-input","",3,"placeholder","formControlName"],[3,"formControlName","nzShowSearch","nzAllowClear","nzPlaceHolder"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"ngStyle","formControlName","nzPlaceHolder"],[3,"ngStyle","formControlName"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","",3,"nzType"]],template:function(o,n){1&o&&(e.F$t(),e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e.YNc(3,L,2,1,"ng-container",3),e.TgZ(4,"div",4)(5,"div",5)(6,"button",6),e.NdJ("click",function(){return n.search()}),e._uU(7," \u67e5\u8be2 "),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.reset()}),e._uU(9,"\u91cd\u7f6e"),e.qZA(),e.YNc(10,D,3,2,"a",8),e.Hsn(11),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",n.queryForm),e.xp6(1),e.Q6J("nzGutter",n.nzxGutter)("nzJustify",n.nzxJustify),e.xp6(1),e.Q6J("ngForOf",n.controls),e.xp6(1),e.Q6J("nzSpan",n.nzxBtnSpan||24/n.lineNumber),e.xp6(6),e.Q6J("ngIf",n.nzxCollapse))},dependencies:[i.sg,i.O5,i.tP,i.PC,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.Zp,g.t3,g.SK,m.Lr,m.Nx,m.iK,m.Fd,b.ix,Q.w,A.dQ,y.Ip,y.Vq,C.uw,C.wS,x.Ls],styles:[".container[_ngcontent-%COMP%]{padding:12px;background-color:#fff;border-radius:8px}.container[_ngcontent-%COMP%]   [nz-form-label][_ngcontent-%COMP%]{overflow:visible}.container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 4px;width:104px}"],changeDetection:0});const O=["query7"];function k(t,o){1&t&&e._UZ(0,"nz-rate",9),2&t&&e.Q6J("formControl",o.$implicit)}function M(t,o){1&t&&e._UZ(0,"nz-rate",9),2&t&&e.Q6J("formControl",o.$implicit)}function j(t,o){1&t&&e._UZ(0,"nz-rate",9),2&t&&e.Q6J("formControl",o.$implicit)}function Y(t,o){1&t&&e._UZ(0,"nz-rate",9),2&t&&e.Q6J("formControl",o.$implicit)}function $(t,o){1&t&&e._UZ(0,"nz-rate",9),2&t&&e.Q6J("formControl",o.$implicit)}class _{constructor(){this.queryParams={},this.controls=[{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input"},{controlName:"gender",label:"\u6027\u522b",placeholder:"\u8bf7\u9009\u62e9",controlType:"select",menuList:[{label:"\u7537",value:1},{label:"\u5973",value:2}],controlInstance:new l.NI(1,[l.kI.required]),errorTip:"\u5047\u8bbe\u5fc5\u586b\u9ed8\u8ba4",nzxAllowClear:!0},{controlName:"birthday",label:"\u51fa\u751f\u65e5\u671f",placeholder:"\u65e5\u671f",controlType:"datePicker",collapse:!0},{controlName:"level",label:"\u804c\u4e1a\u7b49\u7ea7",controlType:"Template",collapse:!0}],this.queryParams2={},this.controls2=[{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input"},{controlName:"birthday",label:"\u51fa\u751f\u65e5\u671f",placeholder:"\u65e5\u671f",controlType:"datePicker"}],this.queryParams3={},this.controls3=[{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input"},{controlName:"gender",label:"\u6027\u522b",placeholder:"\u8bf7\u9009\u62e9",controlType:"select",menuList:[{label:"\u7537",value:1},{label:"\u5973",value:2}],controlInstance:new l.NI(1,[l.kI.required]),errorTip:"\u5047\u8bbe\u5fc5\u586b\u9ed8\u8ba4",nzxAllowClear:!0},{controlName:"birthday",label:"\u51fa\u751f\u65e5\u671f",placeholder:"\u65e5\u671f",controlType:"datePicker",collapse:!0},{controlName:"level",label:"\u804c\u4e1a\u7b49\u7ea7",controlType:"Template",collapse:!0}],this.queryParams4={},this.controls4=[{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input"},{controlName:"gender",label:"\u6027\u522b",placeholder:"\u8bf7\u9009\u62e9",controlType:"select",menuList:[{label:"\u7537",value:1},{label:"\u5973",value:2}],controlInstance:new l.NI(1,[l.kI.required]),errorTip:"\u5047\u8bbe\u5fc5\u586b\u9ed8\u8ba4",nzxAllowClear:!0},{controlName:"birthday",label:"\u51fa\u751f\u65e5\u671f",placeholder:"\u65e5\u671f",controlType:"datePicker",collapse:!0},{controlName:"level",label:"\u804c\u4e1a\u7b49\u7ea7",controlType:"Template",collapse:!0}],this.queryParams5={},this.controls5=[{controlName:"searchType",placeholder:"\u8bf7\u9009\u62e9",nzxSpan:3,nzxRSpan:24,controlType:"select",menuList:[{label:"\u73ed\u7ea7",value:1},{label:"\u59d3\u540d",value:2}],default:1},{controlName:"searchKey",placeholder:"\u641c\u7d22\u5185\u5bb9",nzxSpan:9,nzxRSpan:24,controlType:"input"},{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input"},{controlName:"gender",label:"\u6027\u522b",placeholder:"\u8bf7\u9009\u62e9",controlType:"select",menuList:[{label:"\u7537",value:1},{label:"\u5973",value:2}],controlInstance:new l.NI(1,[l.kI.required]),errorTip:"\u5047\u8bbe\u5fc5\u586b\u9ed8\u8ba4",nzxAllowClear:!0},{controlName:"birthday",label:"\u51fa\u751f\u65e5\u671f",placeholder:"\u65e5\u671f",controlType:"datePicker",collapse:!0},{controlName:"level",label:"\u804c\u4e1a\u7b49\u7ea7",controlType:"Template",collapse:!0}],this.queryParams6={},this.controls6=[{controlName:"searchType",placeholder:"\u8bf7\u9009\u62e9",nzxSpan:3,nzxRSpan:24,controlType:"select",menuList:[{label:"\u73ed\u7ea7",value:1},{label:"\u59d3\u540d",value:2}],default:1},{controlName:"searchKey",placeholder:"\u641c\u7d22\u5185\u5bb9",nzxSpan:9,nzxRSpan:24,controlType:"input"},{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input",collapse:!0},{controlName:"gender",label:"\u6027\u522b",placeholder:"\u8bf7\u9009\u62e9",controlType:"select",menuList:[{label:"\u7537",value:1},{label:"\u5973",value:2}],controlInstance:new l.NI(1,[l.kI.required]),errorTip:"\u5047\u8bbe\u5fc5\u586b\u9ed8\u8ba4",nzxAllowClear:!0,collapse:!0},{controlName:"birthday",label:"\u51fa\u751f\u65e5\u671f",placeholder:"\u65e5\u671f",controlType:"datePicker",collapse:!0},{controlName:"level",label:"\u804c\u4e1a\u7b49\u7ea7",controlType:"Template",collapse:!0}],this.queryParams7={},this.controls7=[{controlName:"name",label:"\u59d3\u540d",placeholder:"\u59d3\u540d",controlType:"input"},{controlName:"city",label:"\u57ce\u5e02",placeholder:"\u57ce\u5e02",controlType:"select",menuList:[{label:"\u73ed\u7ea7",value:1},{label:"\u59d3\u540d",value:2}]}],this.cityList=[{label:"\u9752\u5c9b",value:"\u9752\u5c9b"},{label:"\u6f4d\u574a",value:"\u6f4d\u574a"},{label:"\u70df\u53f0",value:"\u70df\u53f0"}]}ngOnInit(){setTimeout(()=>{this.query7.setControl("city",{menuList:this.cityList})},3e3)}}_.\u0275fac=function(o){return new(o||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["nzx-configurable-query-demo"]],viewQuery:function(o,n){if(1&o&&e.Gf(O,5),2&o){let r;e.iGM(r=e.CRH())&&(n.query7=r.first)}},decls:56,vars:39,consts:[[1,"container"],[3,"controls","queryParamsChange"],["nzxControl","level"],[3,"nzxCollapse","controls","queryParamsChange"],[3,"nzxCollapse","nzxBtnSpan","controls","queryParamsChange"],[3,"controls","lineNumber","nzxBtnSpan","queryParamsChange"],[3,"controls","lineNumber","initQuery","queryParamsChange"],[3,"controls","initQuery","nzxCollapse","queryParamsChange"],["query7",""],["nzAllowHalf","",3,"formControl"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div"),e._uU(2,"\u4f8b\u5b501\uff1a \u81ea\u5b9a\u4e49\u62d3\u5c55\u67e5\u8be2\u804c\u4e1a\u7b49\u7ea7"),e.qZA(),e.TgZ(3,"nzx-configurable-query",1),e.NdJ("queryParamsChange",function(a){return n.queryParams=a}),e.YNc(4,k,1,1,"ng-template",2),e.qZA(),e._uU(5," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(6,"pre"),e._uU(7),e.ALo(8,"json"),e.qZA(),e.TgZ(9,"div"),e._uU(10,"\u4f8b\u5b502\uff1a \u4e00\u884c\u5c55\u793a"),e.qZA(),e.TgZ(11,"nzx-configurable-query",3),e.NdJ("queryParamsChange",function(a){return n.queryParams2=a}),e.qZA(),e._uU(12," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(13,"pre"),e._uU(14),e.ALo(15,"json"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"\u4f8b\u5b503\uff1a \u5168\u5c55\u793a\u7981\u7528\u6298\u53e0"),e.qZA(),e.TgZ(18,"nzx-configurable-query",4),e.NdJ("queryParamsChange",function(a){return n.queryParams3=a}),e.YNc(19,M,1,1,"ng-template",2),e.qZA(),e._uU(20," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(21,"pre"),e._uU(22),e.ALo(23,"json"),e.qZA(),e.TgZ(24,"div"),e._uU(25,"\u4f8b\u5b504\uff1a \u4e00\u884c\u5c55\u793a\u4e24\u4e2acontrol"),e.qZA(),e.TgZ(26,"nzx-configurable-query",5),e.NdJ("queryParamsChange",function(a){return n.queryParams4=a}),e.YNc(27,j,1,1,"ng-template",2),e.qZA(),e._uU(28," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(29,"pre"),e._uU(30),e.ALo(31,"json"),e.qZA(),e.TgZ(32,"div"),e._uU(33,"\u4f8b\u5b505\uff1a \u7b80\u5316\u67e5\u8be2"),e.qZA(),e.TgZ(34,"nzx-configurable-query",5),e.NdJ("queryParamsChange",function(a){return n.queryParams5=a}),e.YNc(35,Y,1,1,"ng-template",2),e.qZA(),e._uU(36," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(37,"pre"),e._uU(38),e.ALo(39,"json"),e.qZA(),e.TgZ(40,"div"),e._uU(41,"\u4f8b\u5b506\uff1a \u521d\u59cb\u5316\u754c\u9762\u4e3b\u52a8\u67e5\u8be2"),e.qZA(),e.TgZ(42,"nzx-configurable-query",6),e.NdJ("queryParamsChange",function(a){return n.queryParams6=a}),e.YNc(43,$,1,1,"ng-template",2),e.qZA(),e._uU(44," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(45,"pre"),e._uU(46),e.ALo(47,"json"),e.qZA(),e.TgZ(48,"div"),e._uU(49,"\u4f8b\u5b507\uff1a \u6a21\u62df\u8fdc\u7a0b\u52a0\u8f7d\u4e0b\u62c9"),e.qZA(),e.TgZ(50,"nzx-configurable-query",7,8),e.NdJ("queryParamsChange",function(a){return n.queryParams7=a}),e.qZA(),e._uU(52," \u67e5\u8be2\u53c2\u6570\uff1a "),e.TgZ(53,"pre"),e._uU(54),e.ALo(55,"json"),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("controls",n.controls),e.xp6(4),e.hij("  ",e.lcZ(8,25,n.queryParams),"\n  "),e.xp6(4),e.Q6J("nzxCollapse",!1)("controls",n.controls2),e.xp6(3),e.hij("  ",e.lcZ(15,27,n.queryParams2),"\n  "),e.xp6(4),e.Q6J("nzxCollapse",!1)("nzxBtnSpan",24)("controls",n.controls3),e.xp6(4),e.hij("  ",e.lcZ(23,29,n.queryParams3),"\n  "),e.xp6(4),e.Q6J("controls",n.controls4)("lineNumber",2)("nzxBtnSpan",24),e.xp6(4),e.hij("  ",e.lcZ(31,31,n.queryParams4),"\n  "),e.xp6(4),e.Q6J("controls",n.controls5)("lineNumber",2)("nzxBtnSpan",24),e.xp6(4),e.hij("  ",e.lcZ(39,33,n.queryParams5),"\n  "),e.xp6(4),e.Q6J("controls",n.controls6)("lineNumber",2)("initQuery",!0),e.xp6(4),e.hij("  ",e.lcZ(47,35,n.queryParams6),"\n  "),e.xp6(4),e.Q6J("controls",n.controls7)("initQuery",!0)("nzxCollapse",!1),e.xp6(4),e.hij("  ",e.lcZ(55,37,n.queryParams7),"\n  "))},dependencies:[l.JJ,l.oH,d.sn,c,f,i.Ts],styles:[".container[_ngcontent-%COMP%]{padding:20px;background-color:#ccc}"],changeDetection:0});class s{}s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[i.ez,l.UX,h.o7,m.U5,g.Jb,b.sL,y.LV,C.Hb,x.PV]});class p{}p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[i.ez,l.UX,d.Ju,s]});const G={"ng-zorro-antd-extension-configurable-query-nzx-configurable-query-demo-example":_},H=p}}]);