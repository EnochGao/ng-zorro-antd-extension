"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[400],{1902:(_,x,r)=>{r.d(x,{B:()=>s});var n=r(4650),z=r(7579),p=r(2722),C=r(628),u=r(763),N=r(4528),y=r(4006),v=r(6895),d=r(3679),g=r(6704),P=r(6616),T=r(7044),Q=r(1811),F=r(7423),m=r(9432);const b=["controlTemp"];function h(i,f){if(1&i&&(n.TgZ(0,"nz-form-label",3),n._uU(1),n.qZA()),2&i){const t=n.oxw();n.Q6J("nzSpan",t.control.nzxLSpan||6),n.xp6(1),n.hij(" ",t.control.label," ")}}function O(i,f){}let J=(()=>{class i{constructor(t){this.nzxQueryConfigService=t,this.destroy$=new z.x}ngOnInit(){this.nzxQueryConfigService.controlTypes$.pipe((0,p.R)(this.destroy$)).subscribe(t=>{this.renderControl(t)})}ngOnDestroy(){this.destroy$&&(this.destroy$.next(),this.destroy$.complete())}renderControl(t){this.controlTemplateView.clear();const e=t.find(c=>c.key===this.control.controlType);if(!e)throw`ControlType:: '${this.control.controlType}' is invalidate`;{const c=this.controlTemplateView.createComponent(e.component);c.setInput("control",this.control),c.setInput("form",this.form)}}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(m.a))},i.\u0275cmp=n.Xpm({type:i,selectors:[["nzx-configurable-query-item"]],viewQuery:function(t,e){if(1&t&&n.Gf(b,7,n.s_b),2&t){let c;n.iGM(c=n.CRH())&&(e.controlTemplateView=c.first)}},inputs:{form:"form",control:"control"},decls:5,vars:4,consts:[[3,"nzSpan",4,"ngIf"],[3,"nzSpan","nzValidateStatus","nzErrorTip"],["controlTemp",""],[3,"nzSpan"]],template:function(t,e){if(1&t&&(n.TgZ(0,"nz-form-item"),n.YNc(1,h,2,2,"nz-form-label",0),n.TgZ(2,"nz-form-control",1),n.YNc(3,O,0,0,"ng-template",null,2,n.W1O),n.qZA()()),2&t){let c;n.xp6(1),n.Q6J("ngIf",e.control.label),n.xp6(1),n.Q6J("nzSpan",e.control.nzxRSpan||18)("nzValidateStatus",null!==(c=null==e.control?null:e.control.controlInstance)&&void 0!==c?c:e.form.get(e.control.controlName))("nzErrorTip",e.control.errorTip)}},dependencies:[v.O5,d.t3,d.SK,g.Nx,g.iK,g.Fd],encapsulation:2,changeDetection:0}),i})();function I(i,f){if(1&i&&(n.TgZ(0,"div",9),n._UZ(1,"nzx-configurable-query-item",10),n.qZA()),2&i){const t=n.oxw().$implicit,e=n.oxw();n.Q6J("nzSpan",t.nzxSpan||24/e.lineNumber)("hidden",e.nzxCollapse&&t.collapse),n.xp6(1),n.Q6J("form",e.queryForm)("control",t)}}function o(i,f){if(1&i&&(n.ynx(0),n.YNc(1,I,2,4,"div",8),n.BQk()),2&i){const t=f.$implicit;n.xp6(1),n.Q6J("ngIf",!t.hidden)}}function a(i,f){if(1&i){const t=n.EpF();n.TgZ(0,"a",11),n.NdJ("click",function(){n.CHM(t);const c=n.oxw();return n.KtG(c.toggleCollapse())}),n._uU(1),n._UZ(2,"i",12),n.qZA()}if(2&i){const t=n.oxw();n.xp6(1),n.hij(" ",t.collapseText," "),n.xp6(1),n.Q6J("nzType",t.collapseIcon)}}const l=["*"];let s=(()=>{class i{get queryParams(){return this._queryParams}set queryParams(t){this._queryParams=t}get collapseText(){return this.isCollapse?this.locale.expand:this.locale.collapse}get collapseIcon(){return this.isCollapse?"down":"up"}constructor(t,e,c){this.i18n=t,this.fb=e,this.cd=c,this.controls=[],this.nzxJustify="start",this.nzxGutter=8,this.lineNumber=3,this.nzxBtnSpan=null,this.nzxCollapse=!0,this.initQuery=!1,this.fixedParams={},this.queryChange=new n.vpe,this.resetChange=new n.vpe,this.isCollapse=!0,this._queryParams={},this.defaultValue={},this.params={},this.destroy$=new z.x,this._nzxBtnSpan=null,this.queryForm=this.fb.group({})}ngOnChanges(t){t.controls&&!t.controls.isFirstChange()&&(this.clearForm(),Array.isArray(t.controls.currentValue)&&this.generateForm())}ngOnInit(){this.i18n.localeChange.pipe((0,p.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Query"),this.cd.markForCheck()}),this.queryForm.valueChanges.pipe((0,p.R)(this.destroy$)).subscribe(t=>{this._queryParams=t?{...t,...this.fixedParams}:this.fixedParams}),this._nzxBtnSpan=this.nzxBtnSpan}ngAfterContentInit(){this.generateForm(),this._queryParams={...this.queryForm.value,...this.fixedParams},this.defaultValue=Object.assign({},this._queryParams),this.params&&this.queryForm.patchValue(this.params),this.initQuery&&this.search()}setQueryParams(t){this.params=t,this.queryForm.patchValue(t)}setControl(t,e){let c=this.getControl(t);c&&(Object.keys(e).forEach(S=>{c[S]=e[S]}),this.cd.markForCheck())}addControl(t){if(this.getControl(t.controlName))throw`The control name: '${t.controlName}' already exists!`;this.collapse(),this.queryForm.addControl(t.controlName,t.controlInstance??this.fb.control(t.default??null)),this.controls.push(t),this.cd.markForCheck()}removeControl(t){if(!this.getControl(t))throw`The control name: '${t}' not find!`;this.collapse(),this.queryForm.removeControl(t),this.controls=this.controls.filter(c=>c.controlName!==t),this.cd.markForCheck()}getControl(t){const e=this.controls.findIndex(c=>c.controlName===t);if(e>-1)return this.controls[e]}getFormControl(t){return this.queryForm.get(t)}search(){this.queryForm.invalid?(0,u.k)(this.queryForm):this.queryChange.emit(this._queryParams)}reset(){this.queryForm.invalid?(0,u.k)(this.queryForm):(this.queryForm.reset(this.defaultValue),this.resetChange.emit(this._queryParams))}toggleCollapse(){this.controls.forEach(t=>{this.isCollapse&&!0===t.collapse&&(t.collapse=!1,this.nzxBtnSpan=24),!this.isCollapse&&!1===t.collapse&&(t.collapse=!0,this.nzxBtnSpan=this._nzxBtnSpan)}),this.isCollapse=!this.isCollapse}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}clearForm(){Object.keys(this.queryForm.controls).forEach(t=>{this.queryForm.removeControl(t)})}collapse(){this.isCollapse=!0,this.controls.forEach(t=>{!1===t.collapse&&(t.collapse=!0,this.nzxBtnSpan=this._nzxBtnSpan)})}generateForm(){for(const t of this.controls){if("Template"===t.controlType){const e=this.controlTemplateList.find(c=>c.nzxControl===t.controlName);e&&(t.templateRef=e.templateRef)}this.queryForm.addControl(t.controlName,t.controlInstance??this.fb.control(t.default??null))}}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(N.wi),n.Y36(y.qu),n.Y36(n.sBO))},i.\u0275cmp=n.Xpm({type:i,selectors:[["nzx-configurable-query"]],contentQueries:function(t,e,c){if(1&t&&n.Suo(c,C.c,5),2&t){let S;n.iGM(S=n.CRH())&&(e.controlTemplateList=S)}},inputs:{controls:"controls",nzxJustify:"nzxJustify",nzxGutter:"nzxGutter",lineNumber:"lineNumber",nzxBtnSpan:"nzxBtnSpan",nzxCollapse:"nzxCollapse",initQuery:"initQuery",fixedParams:"fixedParams"},outputs:{queryChange:"queryChange",resetChange:"resetChange"},exportAs:["NzxConfigurableQuery"],features:[n.TTD],ngContentSelectors:l,decls:11,vars:8,consts:[["nz-form","",1,"nzx-query-container",3,"formGroup"],["nz-row","",3,"nzGutter","nzJustify"],[4,"ngFor","ngForOf"],["nz-col","",1,"nzx-query-btn",3,"nzSpan"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary","type","button",3,"click"],["nz-button","","type","button",3,"click"],["nz-button","","nzType","link",3,"click",4,"ngIf"],["nz-col","",3,"nzSpan","hidden",4,"ngIf"],["nz-col","",3,"nzSpan","hidden"],[3,"form","control"],["nz-button","","nzType","link",3,"click"],["nz-icon","",3,"nzType"]],template:function(t,e){1&t&&(n.F$t(),n.TgZ(0,"form",0)(1,"div",1),n.YNc(2,o,2,1,"ng-container",2),n.TgZ(3,"div",3)(4,"div",4)(5,"button",5),n.NdJ("click",function(){return e.search()}),n._uU(6),n.qZA(),n.TgZ(7,"button",6),n.NdJ("click",function(){return e.reset()}),n._uU(8),n.qZA(),n.Hsn(9),n.YNc(10,a,3,2,"a",7),n.qZA()()()()),2&t&&(n.Q6J("formGroup",e.queryForm),n.xp6(1),n.Q6J("nzGutter",e.nzxGutter)("nzJustify",e.nzxJustify),n.xp6(1),n.Q6J("ngForOf",e.controls),n.xp6(1),n.Q6J("nzSpan",e.nzxBtnSpan||24/e.lineNumber),n.xp6(3),n.hij(" ",e.locale.query," "),n.xp6(2),n.hij(" ",e.locale.reset," "),n.xp6(2),n.Q6J("ngIf",e.nzxCollapse))},dependencies:[v.sg,v.O5,y._Y,y.JL,y.sg,d.t3,d.SK,g.Lr,P.ix,T.w,Q.dQ,F.Ls,J],styles:[".nzx-query-container[_ngcontent-%COMP%]{padding:12px;background-color:#fff;border-radius:8px}.nzx-query-container[_ngcontent-%COMP%]   [nz-form-label][_ngcontent-%COMP%]{overflow:visible}.nzx-query-container[_ngcontent-%COMP%]   .nzx-query-btn[_ngcontent-%COMP%]{flex-grow:2;max-width:none}.nzx-query-container[_ngcontent-%COMP%]   .nzx-query-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 4px}"],changeDetection:0}),i})()},628:(_,x,r)=>{r.d(x,{c:()=>z});var n=r(4650);let z=(()=>{class p{constructor(u){this.templateRef=u}}return p.\u0275fac=function(u){return new(u||p)(n.Y36(n.Rgc))},p.\u0275dir=n.lG2({type:p,selectors:[["","nzxControl",""]],inputs:{nzxControl:"nzxControl"}}),p})()},4400:(_,x,r)=>{r.d(x,{cV:()=>F}),r(1902);var z=r(6895),p=r(4006),C=r(6616),u=r(5259),N=r(6704),y=r(3679),v=r(7423),d=r(5635),g=r(8231),P=r(4528),T=r(9432),Q=r(4650);let F=(()=>{class m{static forRoot(h){return{ngModule:m,providers:[{provide:T.P,useValue:h}]}}static forChild(h){return{ngModule:m,providers:[{provide:T.P,useValue:h},T.a]}}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=Q.oAB({type:m}),m.\u0275inj=Q.cJS({imports:[z.ez,p.UX,d.o7,N.U5,y.Jb,C.sL,g.LV,u.Hb,v.PV,P.YI]}),m})()},9432:(_,x,r)=>{r.d(x,{a:()=>I,P:()=>J});var n=r(4650),z=r(1135);let p=(()=>{class o{}return o.\u0275fac=function(l){return new(l||o)},o.\u0275dir=n.lG2({type:o,inputs:{form:"form",control:"control"}}),o})();var C=r(6895),u=r(4006),N=r(5259);const y=function(){return{width:"100%"}};let v=(()=>{class o extends p{}return o.\u0275fac=function(){let a;return function(s){return(a||(a=n.n5z(o)))(s||o)}}(),o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],features:[n.qOj],decls:2,vars:5,consts:[[3,"formGroup"],[3,"ngStyle","formControlName","nzPlaceHolder"]],template:function(l,s){1&l&&(n.ynx(0,0),n._UZ(1,"nz-date-picker",1),n.BQk()),2&l&&(n.Q6J("formGroup",s.form),n.xp6(1),n.Q6J("ngStyle",n.DdM(4,y))("formControlName",s.control.controlName)("nzPlaceHolder",s.control.placeholder))},dependencies:[C.PC,u.JJ,u.JL,u.sg,u.u,N.uw],encapsulation:2}),o})();var d=r(5635);let g=(()=>{class o extends p{}return o.\u0275fac=function(){let a;return function(s){return(a||(a=n.n5z(o)))(s||o)}}(),o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],features:[n.qOj],decls:2,vars:3,consts:[[3,"formGroup"],["nz-input","","type","text",3,"placeholder","formControlName"]],template:function(l,s){1&l&&(n.ynx(0,0),n._UZ(1,"input",1),n.BQk()),2&l&&(n.Q6J("formGroup",s.form),n.xp6(1),n.s9C("placeholder",s.control.placeholder),n.Q6J("formControlName",s.control.controlName))},dependencies:[u.Fj,u.JJ,u.JL,u.sg,u.u,d.Zp],encapsulation:2}),o})();const P=function(){return{width:"100%"}};let T=(()=>{class o extends p{}return o.\u0275fac=function(){let a;return function(s){return(a||(a=n.n5z(o)))(s||o)}}(),o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],features:[n.qOj],decls:2,vars:4,consts:[[3,"formGroup"],[3,"ngStyle","formControlName"]],template:function(l,s){1&l&&(n.ynx(0,0),n._UZ(1,"nz-range-picker",1),n.BQk()),2&l&&(n.Q6J("formGroup",s.form),n.xp6(1),n.Q6J("ngStyle",n.DdM(3,P))("formControlName",s.control.controlName))},dependencies:[C.PC,u.JJ,u.JL,u.sg,u.u,N.uw,N.wS],encapsulation:2}),o})();var Q=r(8231);function F(o,a){if(1&o&&n._UZ(0,"nz-option",3),2&o){const l=a.$implicit;n.Q6J("nzValue",l.value)("nzLabel",l.label)}}let m=(()=>{class o extends p{}return o.\u0275fac=function(){let a;return function(s){return(a||(a=n.n5z(o)))(s||o)}}(),o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],features:[n.qOj],decls:3,vars:6,consts:[[3,"formGroup"],[3,"formControlName","nzShowSearch","nzAllowClear","nzPlaceHolder"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(l,s){1&l&&(n.ynx(0,0),n.TgZ(1,"nz-select",1),n.YNc(2,F,1,2,"nz-option",2),n.qZA(),n.BQk()),2&l&&(n.Q6J("formGroup",s.form),n.xp6(1),n.Q6J("formControlName",s.control.controlName)("nzShowSearch",!0)("nzAllowClear",s.control.nzxAllowClear)("nzPlaceHolder",s.control.placeholder),n.xp6(1),n.Q6J("ngForOf",s.control.menuList))},dependencies:[C.sg,u.JJ,u.JL,u.sg,u.u,Q.Ip,Q.Vq],encapsulation:2}),o})();function b(o,a){1&o&&n.GkF(0)}const h=function(o){return{$implicit:o}};let O=(()=>{class o extends p{}return o.\u0275fac=function(){let a;return function(s){return(a||(a=n.n5z(o)))(s||o)}}(),o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],features:[n.qOj],decls:1,vars:4,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,s){1&l&&n.YNc(0,b,1,0,"ng-container",0),2&l&&n.Q6J("ngTemplateOutlet",s.control.templateRef)("ngTemplateOutletContext",n.VKq(2,h,s.form.get(s.control.controlName)))},dependencies:[C.tP],encapsulation:2}),o})();const J=new n.OlP("QUERY_CONFIG");let I=(()=>{class o{constructor(l){this.controlTypePoll=[{key:"input",component:g},{key:"select",component:m},{key:"Template",component:O},{key:"datePicker",component:v},{key:"rangePicker",component:T}],this.controlTypes$=new z.X(this.controlTypePoll),l&&l.controlTypes&&l.controlTypes.length>0&&(l.controlTypes.forEach(s=>{this.addControlType(s)}),this.refreshControlType())}addControlType(l){if(this.controlTypePoll.some(i=>i.key===l.key))throw`ControlType:: ${l.key} already exists !`;this.controlTypePoll.push(l)}removeControlType(l){if(!this.controlTypePoll.some(i=>i.key===l))throw`ControlType:: ${l} not exists !`;this.controlTypePoll=this.controlTypePoll.filter(i=>i.key!==l)}refreshControlType(){this.controlTypes$.next(this.controlTypePoll)}}return o.\u0275fac=function(l){return new(l||o)(n.LFG(J,8))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);