[{"path":"page-table-select/page-table-select.component.html","content":"<nz-card nzTitle=\"nzx-page-table-select\">\r\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"settingForm!\">\r\n    <nz-form-item *ngFor=\"let switch of listOfSwitch\">\r\n      <nz-form-label>{{ switch.name }}</nz-form-label>\r\n      <nz-form-control\r\n        ><nz-switch [formControlName]=\"switch.formControlName\"></nz-switch\r\n      ></nz-form-control>\r\n    </nz-form-item>\r\n    <nz-form-item *ngFor=\"let radio of listOfRadio\">\r\n      <nz-form-label>{{ radio.name }}</nz-form-label>\r\n      <nz-form-control>\r\n        <nz-radio-group [formControlName]=\"radio.formControlName\">\r\n          <label\r\n            *ngFor=\"let o of radio.listOfOption\"\r\n            nz-radio-button\r\n            [nzValue]=\"o.value\"\r\n            >{{ o.label }}</label\r\n          >\r\n        </nz-radio-group>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n  </form>\r\n\r\n  <nzx-page-table-select\r\n    [disabled]=\"settingForm.value.disabled\"\r\n    [loading]=\"loading\"\r\n    [tableConfig]=\"tableConfig\"\r\n    [mode]=\"settingForm.value.mode\"\r\n    uniqueKey=\"login.uuid\"\r\n    [controls]=\"controls\"\r\n    [list]=\"list\"\r\n    [nzTotal]=\"total\"\r\n    [(ngModel)]=\"selected\"\r\n    (nzxQueryParamsChange)=\"queryParamsChange($event)\"\r\n  >\r\n    <ng-template nzxTableSelectKey=\"picture\" let-data>\r\n      <img\r\n        nz-image\r\n        width=\"80px\"\r\n        height=\"80px\"\r\n        [nzSrc]=\"data.picture.large\"\r\n        alt=\"\"\r\n      />\r\n    </ng-template>\r\n  </nzx-page-table-select>\r\n\r\n  选中：{{ selected | json }}\r\n</nz-card>\r\n"},{"path":"page-table-select/page-table-select.component.scss","content":""},{"path":"page-table-select/page-table-select.component.ts","content":"import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n} from '@angular/core';\nimport {\n  FormBuilder,\n  FormGroup,\n  FormsModule,\n  ReactiveFormsModule,\n} from '@angular/forms';\n\nimport { CommonModule } from '@angular/common';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport {\n  NzxQueryControlOptions,\n  NzxQueryParams,\n} from 'ng-zorro-antd-extension/configurable-query';\nimport { NzxTableQueryParams } from 'ng-zorro-antd-extension/table-adaptor';\nimport { NzxTableSelectModule } from 'ng-zorro-antd-extension/table-select';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzImageModule } from 'ng-zorro-antd/image';\nimport { Observable, catchError, finalize, of } from 'rxjs';\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\n\n@Component({\n  selector: 'nzx-page-table-select-demo',\n  templateUrl: './page-table-select.component.html',\n  styleUrls: ['./page-table-select.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NzFormModule,\n    NzImageModule,\n    NzButtonModule,\n    NzCardModule,\n    NzSwitchModule,\n    NzRadioModule,\n    NzxTableSelectModule,\n  ],\n})\nexport class NzxPageTableSelectExampleComponent {\n  settingForm: FormGroup;\n  listOfSwitch = [{ name: 'Disable', formControlName: 'disabled' }];\n  listOfRadio = [\n    {\n      name: 'Mode',\n      formControlName: 'mode',\n      listOfOption: [\n        { value: 'single', label: '单选' },\n        { value: 'multiple', label: '多选' },\n      ],\n    },\n  ];\n\n  selected = [];\n  loading = false;\n\n  list: any[] = [];\n  controls: Array<NzxQueryControlOptions> = [\n    {\n      controlName: 'nat',\n      label: '国籍',\n      placeholder: '国籍',\n      controlType: 'input',\n    },\n  ];\n  total = 0;\n\n  tableConfig = [\n    {\n      label: '姓名',\n      key: 'name',\n      format: (data: any) => {\n        return `${data.name.first}${data.name.last}`;\n      },\n    },\n    { label: '性别', key: 'gender' },\n    { label: '国籍', key: 'nat' },\n    { label: 'Email', key: 'email' },\n    { label: 'photo', key: 'picture' },\n  ];\n\n  constructor(\n    private http: HttpClient,\n    private cd: ChangeDetectorRef,\n    private fb: FormBuilder\n  ) {\n    this.settingForm = this.fb.group({\n      disabled: false,\n\n      mode: 'single',\n    });\n  }\n\n  queryParamsChange(params: any) {\n    this.loading = true;\n    this.getUsers(params)\n      .pipe(\n        finalize(() => {\n          this.loading = false;\n          this.cd.markForCheck();\n        })\n      )\n      .subscribe((res) => {\n        console.log('result::', res);\n        this.list = res.results;\n        this.total = 200;\n      });\n  }\n\n  private getUsers(\n    params: NzxTableQueryParams\n  ): Observable<{ results: any[] }> {\n    const { pageSize, pageIndex, sort, filter, nat } = params;\n\n    let httpParams = new HttpParams()\n      .append('page', `${pageIndex}`)\n      .append('results', `${pageSize}`)\n      .append('nat', `${nat}`);\n\n    return this.http\n      .get<{ results: any[] }>('https://api.randomuser.me/', {\n        params: httpParams,\n      })\n      .pipe(catchError(() => of({ results: [] })));\n  }\n}\n"},{"path":"table-select/table-select.component.html","content":"<nz-card nzTitle=\"nzx-table-select\">\r\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"settingForm!\">\r\n    <nz-form-item *ngFor=\"let switch of listOfSwitch\">\r\n      <nz-form-label>{{ switch.name }}</nz-form-label>\r\n      <nz-form-control\r\n        ><nz-switch [formControlName]=\"switch.formControlName\"></nz-switch\r\n      ></nz-form-control>\r\n    </nz-form-item>\r\n    <nz-form-item *ngFor=\"let radio of listOfRadio\">\r\n      <nz-form-label>{{ radio.name }}</nz-form-label>\r\n      <nz-form-control>\r\n        <nz-radio-group [formControlName]=\"radio.formControlName\">\r\n          <label\r\n            *ngFor=\"let o of radio.listOfOption\"\r\n            nz-radio-button\r\n            [nzValue]=\"o.value\"\r\n            >{{ o.label }}</label\r\n          >\r\n        </nz-radio-group>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n  </form>\r\n  <nzx-table-select\r\n    [disabled]=\"settingForm.value.disabled\"\r\n    [mode]=\"settingForm.value.mode\"\r\n    [tableConfig]=\"tableConfig\"\r\n    [list]=\"list\"\r\n    [(ngModel)]=\"selected\"\r\n  >\r\n    <ng-template nzxTableSelectKey=\"stars\" let-data>\r\n      <nz-rate [ngModel]=\"data.stars\" nzDisabled></nz-rate>\r\n    </ng-template>\r\n  </nzx-table-select>\r\n\r\n  选中：{{ selected | json }}\r\n</nz-card>\r\n"},{"path":"table-select/table-select.component.scss","content":""},{"path":"table-select/table-select.component.ts","content":"import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  FormBuilder,\n  FormGroup,\n  FormsModule,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms';\nimport { NzMessageModule, NzMessageService } from 'ng-zorro-antd/message';\n\nimport { NzxTableFormComponent } from 'ng-zorro-antd-extension/table-form';\nimport {\n  NzxLimitMessage,\n  NzxTableFormConfig,\n} from 'ng-zorro-antd-extension/table-form/type';\nimport { CommonModule } from '@angular/common';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzxPipesModule } from 'ng-zorro-antd-extension/pipes';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { NzRateModule } from 'ng-zorro-antd/rate';\nimport { NzxTableFormModule } from 'ng-zorro-antd-extension/table-form';\nimport { NzxTableSelectModule } from 'ng-zorro-antd-extension/table-select';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\n\n@Component({\n  selector: 'nzx-table-select-demo',\n  templateUrl: './table-select.component.html',\n  styleUrls: ['./table-select.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NzIconModule,\n    NzFormModule,\n    NzButtonModule,\n    NzxPipesModule,\n    NzRateModule,\n    NzMessageModule,\n    NzSwitchModule,\n    NzRadioModule,\n    NzCardModule,\n    NzxTableSelectModule,\n  ],\n})\nexport class NzxTableSelectExampleComponent {\n  settingForm: FormGroup;\n  listOfSwitch = [{ name: 'Disable', formControlName: 'disabled' }];\n  listOfRadio = [\n    {\n      name: 'Mode',\n      formControlName: 'mode',\n      listOfOption: [\n        { value: 'single', label: '单选' },\n        { value: 'multiple', label: '多选' },\n      ],\n    },\n  ];\n\n  selected = [];\n  tableConfig = [\n    { label: '姓名', key: 'name' },\n    { label: '年龄', key: 'age' },\n    {\n      label: '班级',\n      key: 'class',\n      format: (data: any) => {\n        return `${data.class}班`;\n      },\n    },\n    { label: 'stars', key: 'stars' },\n  ];\n\n  list = [\n    { id: 1, name: '张三', age: 18, class: 1, stars: 1 },\n    { id: 2, name: '李四', age: 19, class: 3, stars: 2 },\n    { id: 3, name: 'enochgao', age: 20, class: 2, stars: 3 },\n    { id: 4, name: 'enochgao', age: 20, class: 2, stars: 4 },\n    { id: 5, name: 'enochgao', age: 20, class: 2, stars: 5 },\n    { id: 6, name: 'enochgao', age: 20, class: 2, stars: 1 },\n    { id: 7, name: 'enochgao', age: 20, class: 2, stars: 2 },\n    { id: 8, name: 'enochgao', age: 20, class: 2, stars: 3 },\n    { id: 9, name: 'enochgao', age: 20, class: 2, stars: 4 },\n    { id: 10, name: 'enochgao', age: 20, class: 2, stars: 5 },\n    { id: 11, name: 'enochgao', age: 20, class: 2, stars: 1 },\n  ];\n\n  constructor(private cd: ChangeDetectorRef, private fb: FormBuilder) {\n    this.settingForm = this.fb.group({\n      disabled: false,\n\n      mode: 'single',\n    });\n  }\n}\n"},{"path":"examples.module.ts","content":"import { NzxPageTableSelectExampleComponent } from './page-table-select/page-table-select.component';\nimport { NzxTableSelectExampleComponent } from './table-select/table-select.component';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n@NgModule({\n    declarations: [  ],\n    providers: [  ],\n    imports: [ CommonModule, NzxPageTableSelectExampleComponent, NzxTableSelectExampleComponent ],\n    exports: [  ]\n})\nexport class NzxTableSelectExamplesModule {}\n"}]